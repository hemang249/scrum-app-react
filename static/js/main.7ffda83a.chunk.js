(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,a,t){e.exports=t(81)},66:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(27),o=t.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(18),s=t(23),i=t(15),u=t(6),m=t(10),d=t(83),p=t(84),b=t(88),f=t(85),E=(t(66),t(9)),h=t.n(E),g=t(19),v="http://frozen-savannah-60279.herokuapp.com/api",y=function(e){sessionStorage.setItem("user",JSON.stringify(e))},j=function(){return JSON.parse(sessionStorage.getItem("user"))},O=function(){return JSON.parse(sessionStorage.getItem("token"))},w=function(){var e=Object(g.a)(h.a.mark((function e(a,t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,username:t,password:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(h.a.mark((function e(a,t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,password:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}(),x=function(e){var a=Object(n.useState)({email:"",username:"",password:"",loading:!1,success:!1,error:null}),t=Object(m.a)(a,2),c=t[0],o=t[1],E=c.email,h=c.username,g=c.password,v=c.loading,j=c.success,O=c.error,k=function(e){o(Object(u.a)({},c,Object(i.a)({},e.target.name,e.target.value)))},x=function(){return!!(E&&h&&g)||(o(Object(u.a)({},c,{error:"Please fillout all the fields"})),!1)};return r.a.createElement("div",{className:"register"},j&&r.a.createElement(s.a,{to:"/"}),r.a.createElement(p.a,{className:"my-4 text-center"},r.a.createElement("h2",null,"Scrum App")),r.a.createElement(p.a,{className:"register-container"},r.a.createElement(b.a,{className:"register-form"},O?r.a.createElement(d.a,{variant:"danger"},O):null,r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Email address"),r.a.createElement(b.a.Control,{onChange:k,type:"email",name:"email",value:E,placeholder:"Enter email"})),r.a.createElement(b.a.Group,{controlId:"formBasicText"},r.a.createElement(b.a.Label,null,"Username"),r.a.createElement(b.a.Control,{name:"username",value:h,onChange:k,type:"text",placeholder:"Pick a Username"})),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{onChange:k,type:"password",name:"password",value:g,placeholder:"Enter a password"})),r.a.createElement("div",{className:"text-center my-4"},r.a.createElement(f.a,{onClick:function(e){e.preventDefault(),x()&&(o(Object(u.a)({},c,{loading:!0})),w(E,h,g).then((function(e){o(Object(u.a)({},c,{loading:!1,success:!0,email:"",password:"",username:""})),y(e)})).catch((function(e){o(Object(u.a)({},c,{loading:!1,success:!1,error:e,email:"",password:"",username:""})),console.log(e)})))},disabled:v,variant:"warning",type:"submit",size:"md",block:!0},v?"Loading...":"Submit"),r.a.createElement("p",{className:"text-light my-3"},"Already a User ?"," ",r.a.createElement(l.b,{className:"text-light",to:"/"},"Login Here"))))))},N=(t(74),function(e){var a=Object(n.useState)({email:"",password:"",loading:!1,success:!1,error:null}),t=Object(m.a)(a,2),c=t[0],o=t[1],E=c.email,h=c.password,g=c.loading,v=c.success,j=c.error,O=function(e){o(Object(u.a)({},c,Object(i.a)({},e.target.name,e.target.value)))},w=function(){return!(!E||!h)||(o(Object(u.a)({},c,{error:"Please fillout all the fields"})),!1)};return r.a.createElement("div",{className:"login"},v&&r.a.createElement(s.a,{to:"/home"}),r.a.createElement(p.a,{className:"my-4 text-center"},r.a.createElement("h2",null,"Scrum App")),r.a.createElement(p.a,{className:"login-container"},r.a.createElement(b.a,{className:"login-form"},j?r.a.createElement(d.a,{variant:"danger"},j):null,r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Label,null,"Email address"),r.a.createElement(b.a.Control,{onChange:O,type:"email",name:"email",value:E,placeholder:"Enter email"})),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{onChange:O,type:"password",name:"password",value:h,placeholder:"Enter a password"})),r.a.createElement("div",{className:"text-center my-4"},r.a.createElement(f.a,{onClick:function(e){e.preventDefault(),w()&&(o(Object(u.a)({},c,{loading:!0})),k(E,h).then((function(e){var a;o(Object(u.a)({},c,{loading:!1,success:!0,email:"",password:""})),y(e.user),a=e.token,sessionStorage.setItem("token",JSON.stringify(a))})).catch((function(e){o(Object(u.a)({},c,{loading:!1,success:!1,error:"Incorrect Email or Password!",email:"",password:""})),console.log(e)})))},disabled:g,variant:"warning",type:"submit",size:"md",block:!0},g?"Loading...":"Submit"),r.a.createElement("p",{className:"text-light my-3"},"Not a User ?"," ",r.a.createElement(l.b,{className:"text-light",to:"/register"},"Register Here"))))))}),C=t(90),S=t(89),B=function(e){return r.a.createElement(C.a,{fixed:"top",bg:"primary",variant:"dark"},r.a.createElement(C.a.Brand,{className:"text-center"},r.a.createElement("strong",null,"Scrum App")),r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(S.a,{className:"mr-auto"}),r.a.createElement(S.a,null,r.a.createElement(S.a.Link,{className:"text-light",href:"/home"},"Home"),r.a.createElement(S.a.Link,{className:"text-light",eventKey:2,href:"/"},"Logout"))))},T=t(87),A=t(86),L=t(51),I=(t(75),t(91)),M=(t(76),function(e){sessionStorage.setItem("board",JSON.stringify(e))}),J=function(){var e=Object(g.a)(h.a.mark((function e(a,t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/board/").concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({name:a})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(h.a.mark((function e(a,t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/board/").concat(a._id,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({board:a})});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(h.a.mark((function e(a,t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/board/all/").concat(a),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}(),z=function(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),c=t[0],o=t[1];return r.a.createElement("div",null,c&&r.a.createElement(s.a,{to:"/board"}),r.a.createElement(I.a,{className:"board",style:{width:"18rem"}},r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,{className:"text-light"},e.board.name.toUpperCase()),r.a.createElement(I.a.Text,{className:"text-light"},"Created By :"," ",r.a.createElement("span",{className:"text-primary"},e.board.createdBy.username)),r.a.createElement("div",{className:"my-4"},r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(f.a,{onClick:function(a){M(e.board),o(!0)},variant:"primary",block:!0},"View Board")))))},G=(t(77),function(e){var a=Object(n.useState)({showModal:!1,name:"",error:null,success:!1,loading:!1,boards:[],user:null,token:null}),t=Object(m.a)(a,2),c=t[0],o=t[1],l=c.showModal,s=c.user,E=c.token,h=c.name,g=c.error,v=(c.success,c.loading),y=c.boards;Object(n.useEffect)((function(){var e=O(),a=j();_(a._id,e).then((function(t){console.log(t),o(Object(u.a)({},c,{user:a,token:e,boards:t.boards}))})).catch((function(e){return console.log(e)}))}),[]);var w=function(){o(Object(u.a)({},c,{showModal:!1}))},k=function(e){return o(Object(u.a)({},c,Object(i.a)({},e.target.name,e.target.value)))},x=function(e){e.preventDefault(),o(Object(u.a)({},c,{loading:!0})),J(h,s._id,E).then((function(e){o(Object(u.a)({},c,{loading:!1,success:!0,showModal:!1,name:"",error:null})),M(e.board);var a=O(),t=j();_(t._id,a).then((function(e){console.log(e),o(Object(u.a)({},c,{loading:!1,success:!0,showModal:!1,name:"",error:null,boards:e.boards}))})).catch((function(e){return console.log(e)}))})).catch((function(e){o(Object(u.a)({},c,{loading:!1,success:!1,showModal:!0,name:"",error:"Unable to create the board. Try again later."}))}))},N=function(){return r.a.createElement(b.a,null,g?r.a.createElement(d.a,{variant:"danger"},g):null,r.a.createElement(b.a.Group,{controlId:"formBasicText"},r.a.createElement(b.a.Label,null,"Board Name"),r.a.createElement(b.a.Control,{name:"name",value:h,onChange:k,type:"text",placeholder:"Enter board name..."})))};return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(p.a,{className:"home"},r.a.createElement(T.a,{show:l,onHide:w},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Create A New Board")),r.a.createElement(T.a.Body,null,N()),r.a.createElement(T.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:w},"Close"),r.a.createElement(f.a,{onClick:x,disabled:v,variant:"primary"},v?"Loading...":"Save Changes"))),r.a.createElement("h4",null,"Your Boards"),r.a.createElement(f.a,{variant:"primary",size:"md",onClick:function(e){o(Object(u.a)({},c,{showModal:!0}))}},"Create Board"),function(){for(var e=[],a=y.length,t=Math.ceil(a/3),n=0;n<t;n++)return e.push(r.a.createElement(A.a,{className:"my-4"},y[3*n]&&r.a.createElement(L.a,null,r.a.createElement(z,{key:y[3*n]._id,board:y[3*n+0]})),y[3*n+1]?r.a.createElement(L.a,null,r.a.createElement(z,{key:y[3*n+1]._id,board:y[3*n+1]})):null,y[3*n+2]?r.a.createElement(L.a,null,r.a.createElement(z,{key:y[3*n+2]._id,board:y[3*n+2]})):null)),e}()))}),D=(t(78),t(79),function(){var e=Object(g.a)(h.a.mark((function e(a,t,n,r,c){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/ticket/").concat(n,"/").concat(r),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({title:a,category:t})});case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t,n,r,c){return e.apply(this,arguments)}}()),H=(t(80),function(e){var a=e.ticket;return r.a.createElement("div",{className:"ticket-card my-3 p-2"},a.title,r.a.createElement("br",null),"Created By : ",a.createdBy.username)}),U=t(59),F=function(e){var a=e.board,t=e.user,c=e.token,o=e.name,l=e.category,s=e.updateBoard,d=e.tickets,p=Object(n.useState)({hasBeenCreated:!1,title:"",showModal:!1,loading:!1}),E=Object(m.a)(p,2),h=E[0],g=E[1],v=Object(n.useState)(d),y=Object(m.a)(v,2),j=y[0],O=y[1],w=h.title,k=h.loading,x=h.showModal,N=function(e){return g(Object(u.a)({},h,Object(i.a)({},e.target.name,e.target.value)))},C=function(e){e.preventDefault(),g(Object(u.a)({},h,{loading:!0})),D(w,l,a._id,t._id,c).then((function(e){g(Object(u.a)({},h,{loading:!1,showModal:!1})),O(j.concat(e.ticket)),s(l,e.ticket)})).catch((function(e){return console.log(e)}))},S=function(){return g(Object(u.a)({},h,{showModal:!1}))};return r.a.createElement("div",{className:"category text-center p-3  m-4"},r.a.createElement("h4",null,o),r.a.createElement(T.a,{show:x,onHide:S},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"Create A New Column")),r.a.createElement(T.a.Body,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Group,{controlId:"formBasicText"},r.a.createElement(b.a.Label,null,"Ticket Title"),r.a.createElement(b.a.Control,{name:"title",value:w,onChange:N,type:"text",placeholder:"Enter column name..."})))),r.a.createElement(T.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:S},"Close"),r.a.createElement(f.a,{onClick:C,disabled:k,variant:"primary"},k?"Loading...":"Save Changes"))),r.a.createElement(f.a,{onClick:function(){return g(Object(u.a)({},h,{showModal:!0}))},className:"my-3",block:!0,variant:"warning"},"Add Ticket"),r.a.createElement(U.a,{list:j,setList:O},j.map((function(e){return r.a.createElement(H,{ticket:e,key:e._id})}))))},W=function(e){var a=Object(n.useState)({user:null,token:null,board:null,loading:!0}),t=Object(m.a)(a,2),c=t[0],o=t[1],l=c.token,s=c.user,i=c.board;Object(n.useEffect)((function(){var e=O(),a=j(),t=JSON.parse(sessionStorage.getItem("board"));o(Object(u.a)({},c,{token:e,user:a,board:t}))}),[]);var d=function(e,a){var t=i;t["".concat(e,"Tickets")].push(a),o(Object(u.a)({},c,{board:t,loading:!0})),P(i,s._id,l).then((function(e){o(Object(u.a)({},c,{board:e.board,loading:!1}))})).catch((function(e){console.log(e),o(Object(u.a)({},c,{loading:!1}))}))};return i?r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement("div",{className:"board-container"},r.a.createElement(F,{updateBoard:d,category:"todo",name:"To Do",tickets:i.todoTickets,user:s,token:l,board:i}),r.a.createElement(F,{updateBoard:d,category:"doing",name:"Doing",tickets:i.doingTickets,user:s,token:l,board:i}),r.a.createElement(F,{category:"done",updateBoard:d,name:"Done",tickets:i.doneTickets,user:s,token:l,board:i}))):r.a.createElement("div",null," Loading ....")},K=function(e){return r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/register",component:x}),r.a.createElement(s.b,{exact:!0,path:"/",component:N}),r.a.createElement(s.b,{exact:!0,path:"/home",component:G}),r.a.createElement(s.b,{exact:!0,path:"/board",component:W})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.7ffda83a.chunk.js.map